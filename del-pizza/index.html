<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Del Pizza Menu</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--tg-theme-bg-color, #fff);
            color: var(--tg-theme-text-color, #000);
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }
        .header {
            text-align: center;
            padding: 20px 10px;
            background-color: #ffcc00;
            color: #000;
            font-weight: bold;
            font-size: 22px;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            margin-bottom: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .logo {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            margin-bottom: 5px;
            border: 3px solid #fff;
        }
        .category-title {
            margin: 20px 10px 10px;
            font-size: 20px;
            font-weight: 800;
            color: var(--tg-theme-text-color, #000);
            border-bottom: 2px solid #ffcc00;
            display: inline-block;
        }
        .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            padding: 10px;
            padding-bottom: 100px;
        }
        .card {
            background: var(--tg-theme-secondary-bg-color, #f5f5f5);
            border-radius: 15px;
            padding: 10px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: transform 0.1s;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .card:active { transform: scale(0.98); }
        .card img {
            width: 100%;
            height: 110px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 8px;
        }
        .card h3 {
            font-size: 15px;
            margin: 5px 0;
            line-height: 1.2;
        }
        .desc {
            font-size: 11px;
            color: #777;
            margin-bottom: 8px;
            line-height: 1.3;
            height: 42px; /* –§–∏–∫—Å –≤—ã—Å–æ—Ç–∞ */
            overflow: hidden;
        }
        .price {
            font-weight: 900;
            font-size: 17px;
            margin-bottom: 10px;
            color: var(--tg-theme-text-color, #000);
        }
        .add-btn {
            background-color: #ffcc00;
            color: #000;
            border: none;
            padding: 10px 0;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            width: 100%;
        }
        /* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º */
        .btn-control {
            display: none;
            justify-content: space-between;
            align-items: center;
            background: #fff;
            border-radius: 12px;
            padding: 2px;
            border: 1px solid #ddd;
        }
        .btn-control button {
            background-color: #ffcc00;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 18px;
            cursor: pointer;
        }
        .btn-control span {
            font-weight: bold;
            font-size: 16px;
            width: 20px;
        }
        /* –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ */
        #main-btn {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #31b545;
            color: white;
            padding: 16px 20px;
            border-radius: 16px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            width: 92%;
            z-index: 1000;
            box-shadow: 0 5px 15px rgba(49, 181, 69, 0.4);
            display: none;
            cursor: pointer;
        }
        #main-btn:active { transform: translateX(-50%) scale(0.98); }
    </style>
</head>
<body>

    <div class="header">
        <img src="https://avatars.mds.yandex.net/get-sprav-products/13055270/2a0000018f0b4d409929f88063063ee59264/orig" class="logo">
        <br>üçï Del Pizza Menu
    </div>

    <div id="app"></div>

    <button id="main-btn" onclick="sendOrder()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>

<script>
    let tg = window.Telegram.WebApp;
    tg.expand();

    // --- –ü–û–õ–ù–ê–Ø –ë–ê–ó–ê –î–ê–ù–ù–´–• (–í–°–ï –í–ê–®–ò –¢–û–í–ê–†–´) ---
    const menu = [
        {
            category: "üçï –ü–ò–¶–¶–ê",
            items: [
                {id: "p_del", name: "Del Pizza", price: 400, desc: "–§–∏—Ä–º–µ–Ω–Ω–∞—è: —Å–æ—É—Å, —Ñ–∏–ª–µ, –∫–æ–ª–±–∞—Å–∞, –≥—Ä–∏–±—ã.", img: "https://avatars.mds.yandex.net/get-sprav-products/13055270/2a0000018f0b4d409929f88063063ee59264/orig"},
                {id: "p_assorti", name: "–ê—Å—Å–æ—Ä—Ç–∏", price: 400, desc: "–°—ã—Ä, –º–æ—Ü–∞—Ä–µ–ª–ª–∞, –∫–æ–ª–±–∞—Å–∞, –ø–µ—Ä–µ—Ü.", img: "https://avatars.mds.yandex.net/get-sprav-products/13055270/2a0000018f0b4d413c7c23bc672e85d1ed06/orig"},
                {id: "p_pep", name: "–ü–µ–ø–ø–µ—Ä–æ–Ω–∏", price: 400, desc: "–û—Å—Ç—Ä–∞—è –∫–æ–ª–±–∞—Å–∫–∞, —Å—ã—Ä.", img: "https://avatars.mds.yandex.net/get-sprav-products/13059590/2a0000018f0b4d413b5c9f7cd772d7f41709/orig"},
                {id: "p_home", name: "–î–æ–º–∞—à–Ω—è—è", price: 400, desc: "–§–∏–ª–µ, —Å—ã—Ä, –ø–æ–º–∏–¥–æ—Ä—ã, –æ–ø—è—Ç–∞.", img: "https://avatars.mds.yandex.net/get-sprav-products/13055270/2a0000018f0b4d414108c33ba5ac9b4479cf/orig"},
                {id: "p_mex", name: "–ú–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∞—è", price: 400, desc: "–§–∏–ª–µ, –ø–µ—Ä–µ—Ü, —Ö–∞–ª–∞–ø–µ–Ω—å–æ.", img: "https://avatars.mds.yandex.net/get-sprav-products/11530991/2a0000018f0b4d41400aeac54e8c3616fb4c/orig"},
                {id: "p_hawaii", name: "–ì–∞–≤–∞–π—Å–∫–∞—è", price: 400, desc: "–§–∏–ª–µ, –∞–Ω–∞–Ω–∞—Å—ã, –±–µ–ª—ã–π —Å–æ—É—Å.", img: "https://avatars.mds.yandex.net/get-sprav-products/13055270/2a0000018f0b4d413e5e4c13ceaf8943392c/orig"},
                {id: "p_caesar", name: "–¶–µ–∑–∞—Ä—å", price: 400, desc: "–§–∏–ª–µ, —Å–∞–ª–∞—Ç, –ø–∞—Ä–º–µ–∑–∞–Ω.", img: "https://avatars.mds.yandex.net/get-sprav-products/11530991/2a0000018f0b4d40cca58347c5761fb50126/orig"},
                {id: "p_salami", name: "–°–∞–ª—è–º–∏", price: 400, desc: "–ö–æ–ª–±–∞—Å–∞, –ø–µ—Ä–µ—Ü, –∫—Ä–∞—Å–Ω—ã–π —Å–æ—É—Å.", img: "https://avatars.mds.yandex.net/get-sprav-products/13059590/2a0000018f0b4d414115e44c7b5edd2b227f/orig"},
                {id: "p_4cheese", name: "4 –°—ã—Äa", price: 400, desc: "–ú–æ—Ü–∞—Ä–µ–ª–ª–∞, —Ñ–µ—Ç–∞, –ø–∞—Ä–º–µ–∑–∞–Ω.", img: "https://avatars.mds.yandex.net/get-sprav-products/11530991/2a0000018f0b4d41565032543d9ab67a840a/orig"},
                {id: "p_marg", name: "–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞", price: 400, desc: "–°—ã—Ä, –ø–æ–º–∏–¥–æ—Ä—ã, –∫–ª–∞—Å—Å–∏–∫–∞.", img: "https://avatars.mds.yandex.net/get-sprav-products/11530991/2a0000018f0b4d40dbf8ab3732deb70f4e8c/orig"},
                {id: "p_white", name: "–ë–µ–ª–∞—è", price: 400, desc: "–Ø–π—Ü–∞, —É–∫—Ä–æ–ø, –±–µ–ª—ã–π —Å–æ—É—Å.", img: "https://avatars.mds.yandex.net/get-sprav-products/9896919/2a0000019063ad7112332a346a11ffd3749d/orig"},
                {id: "p_slice", name: "–ö—É—Å–æ—á–µ–∫", price: 70, desc: "–ö—É—Å–æ—á–µ–∫ –ø–∏—Ü—Ü—ã (100 –≥—Ä).", img: "https://avatars.mds.yandex.net/get-sprav-products/944742/2a00000191427aaffcc20360dfcaa31d48bd/orig"},
            ]
        },
        {
            category: "üçî –§–ê–°–¢-–§–£–î",
            items: [
                {id: "f_kysty", name: "–ö—ã—Å—Ç—ã–±—É—Ä–≥–µ—Ä", price: 240, desc: "–¢–æ–∫–º–∞–∫, –∫—É—Ä–∏—Ü–∞, BBQ.", img: "https://avatars.mds.yandex.net/get-sprav-products/13055270/2a0000018f0b4d4136c2d2f8e58f2825157b/orig"},
                {id: "f_shaurma", name: "–®–∞—É—Ä–º–∞", price: 220, desc: "–ö—É—Ä–∏—Ü–∞, –æ–≤–æ—â–∏, –ª–∞–≤–∞—à.", img: "https://avatars.mds.yandex.net/get-sprav-products/13059590/2a0000018f0b4d42152e8db3ac51db685e7c/orig"},
                {id: "f_burger", name: "–ë—É—Ä–≥–µ—Ä", price: 170, desc: "–ö–æ—Ç–ª–µ—Ç–∞, –æ–≤–æ—â–∏, –∫—É–Ω–∂—É—Ç.", img: "https://avatars.mds.yandex.net/get-sprav-products/13055270/2a0000018f0b4d407af0011cfdac202b8025/orig"},
                {id: "f_hot_m", name: "–•–æ—Ç-–¥–æ–≥ –ú—è—Å–æ", price: 140, desc: "–° –º—è—Å–æ–º –∏ —Å—ã—Ä–æ–º.", img: "https://avatars.mds.yandex.net/get-sprav-products/11530991/2a0000018f0b4d403541d75290a455521e07/orig"},
                {id: "f_hot_s", name: "–•–æ—Ç-–¥–æ–≥ –°–æ—Å–∏—Å–∫–∞", price: 100, desc: "–° —Å–æ—Å–∏—Å–∫–æ–π –∏ –º–æ—Ä–∫–æ–≤–∫–æ–π.", img: "https://avatars.mds.yandex.net/get-sprav-products/13059590/2a0000018f0b4d4187a8087dd39d2183daa6/orig"},
            ]
        },
        {
            category: "üçú WOK –ò –ë–û–£–õ–´",
            items: [
                {id: "w_kush", name: "–°—ã—Ç—ã–π –∫—É—à", price: 250, desc: "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å, –º—è—Å–æ, –æ–≤–æ—â–∏.", img: "https://avatars.mds.yandex.net/get-sprav-products/11530991/2a0000018f0b4d409149fa840d5a9dcfd45f/orig"},
                {id: "w_tyahan", name: "–¢—è—Ö–∞–Ω", price: 240, desc: "–†–∏—Å, –∫—É—Ä–∏—Ü–∞, —Ç–µ—Ä–∏—è–∫–∏.", img: "https://avatars.mds.yandex.net/get-sprav-products/13055270/2a0000018f0b4d4090e0ef37bc7a9ace2837/orig"},
                {id: "w_noodle", name: "–õ–∞–ø—à–∞ WOK", price: 240, desc: "–£–¥–æ–Ω, –∫—É—Ä–∏—Ü–∞, —Ç–µ—Ä–∏—è–∫–∏.", img: "https://avatars.mds.yandex.net/get-sprav-products/13059590/2a0000018f0b4d40878fce25082674c41e73/orig"},
                {id: "b_shrimp", name: "–ë–æ—É–ª –ö—Ä–µ–≤–µ—Ç–∫–∏", price: 340, desc: "–†–∏—Å, –∞–≤–æ–∫–∞–¥–æ, –∫—Ä–µ–≤–µ—Ç–∫–∏.", img: "https://avatars.mds.yandex.net/get-sprav-products/13059590/2a0000018f0b4d416275afdb08516c4d7473/orig"},
                {id: "b_salmon", name: "–ë–æ—É–ª –õ–æ—Å–æ—Å—å", price: 340, desc: "–†–∏—Å, –∞–≤–æ–∫–∞–¥–æ, –ª–æ—Å–æ—Å—å.", img: "https://avatars.mds.yandex.net/get-sprav-products/13055270/2a0000018f0b4d414eff414b1fb1a52496c5/orig"},
                {id: "b_chicken", name: "–ë–æ—É–ª –ö—É—Ä–∏—Ü–∞", price: 320, desc: "–†–∏—Å, –∞–≤–æ–∫–∞–¥–æ, –∫—É—Ä–∏—Ü–∞.", img: "https://avatars.mds.yandex.net/get-sprav-products/13059590/2a0000018f0b4d42224e0de0e2e69559cdf1/orig"},
            ]
        },
        {
            category: "ü•ó –°–ê–õ–ê–¢–´",
            items: [
                {id: "s_caesar_sh", name: "–¶–µ–∑–∞—Ä—å –ö—Ä–µ–≤–µ—Ç–∫–∏", price: 300, desc: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å –∫—Ä–µ–≤–µ—Ç–∫–∞–º–∏.", img: "https://avatars.mds.yandex.net/get-sprav-products/13059590/2a0000018f0b4d41b4b35ebbf8f1f92da273/orig"},
                {id: "s_caesar_ch", name: "–¶–µ–∑–∞—Ä—å –ö—É—Ä–∏—Ü–∞", price: 290, desc: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å –∫—É—Ä–∏—Ü–µ–π.", img: "https://avatars.mds.yandex.net/get-sprav-products/13059590/2a0000018f0b4d415f0ab00f7cae82117e15/orig"},
                {id: "s_greek", name: "–ì—Ä–µ—á–µ—Å–∫–∏–π", price: 240, desc: "–û–≤–æ—â–∏, —Ñ–µ—Ç–∞, –º–∞—Å–ª–∏–Ω—ã.", img: "https://avatars.mds.yandex.net/get-sprav-products/13059590/2a0000018f0b4d422a3ffb960be49e947041/orig"},
            ]
        },
        {
            category: "üçü –ó–ê–ö–£–°–ö–ò –ò –î–ï–°–ï–†–¢–´",
            items: [
                {id: "sn_nuggets", name: "–ù–∞–≥–≥–µ—Ç—Å—ã", price: 160, desc: "8 —à—Ç—É–∫.", img: "https://avatars.mds.yandex.net/get-sprav-products/13059590/2a0000018f0b4d4220125460b80824087625/orig"},
                {id: "sn_pot_w", name: "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å –¥–µ—Ä.", price: 150, desc: "–î–æ–ª—å–∫–∏ —Å —Å–æ–ª—å—é.", img: "https://avatars.mds.yandex.net/get-sprav-products/13055270/2a0000018f0b4d4208f692df7bd68c0d4413/orig"},
                {id: "sn_fries", name: "–§—Ä–∏", price: 100, desc: "–•—Ä—É—Å—Ç—è—â–∏–π –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å.", img: "https://avatars.mds.yandex.net/get-sprav-products/13055270/2a0000018f0b4d4221408c51e4552bf76cc2/orig"},
                {id: "sn_cheese", name: "–ß–∏–∑–∫–µ–π–∫", price: 150, desc: "–ù—å—é-–ô–æ—Ä–∫.", img: "https://avatars.mds.yandex.net/get-sprav-products/11530991/2a0000018f0b4d415a4692a8f6a9dbf55a55/orig"},
                {id: "sn_cake", name: "–¢–æ—Ä—Ç", price: 90, desc: "–ö—É—Å–æ—á–µ–∫ —Ç–æ—Ä—Ç–∞.", img: "https://avatars.mds.yandex.net/get-sprav-products/11530991/2a0000018f0b4d415a4692a8f6a9dbf55a55/orig"},
            ]
        },
        {
            category: "üçπ –ù–ê–ü–ò–¢–ö–ò",
            items: [
                {id: "d_fresh", name: "–ê–ø–µ–ª—å—Å–∏–Ω –§—Ä–µ—à", price: 300, desc: "–°–≤–µ–∂–µ–≤—ã–∂–∞—Ç—ã–π, 300 –º–ª.", img: "https://avatars.mds.yandex.net/get-sprav-products/13055270/2a0000018f0b4d420ed6266e82aa0b80d0e0/orig"},
                {id: "d_smoothie", name: "–°–º—É–∑–∏", price: 200, desc: "–Ø–≥–æ–¥–Ω—ã–π –∏–ª–∏ –î–µ—Ç–æ–∫—Å.", img: "https://avatars.mds.yandex.net/get-sprav-products/13055270/2a0000018f0b4d4079183031bf3a83708064/orig"},
                {id: "d_shake", name: "–ö–æ–∫—Ç–µ–π–ª—å", price: 150, desc: "–ú–æ–ª–æ—á–Ω—ã–π (—Ä–∞–∑–Ω—ã–µ –≤–∫—É—Å—ã).", img: "https://avatars.mds.yandex.net/get-sprav-products/13059590/2a0000018f0b4d4203057a421b27d7d7d61f/orig"},
                {id: "d_juice", name: "–°–æ–∫", price: 100, desc: "0.5 –ª.", img: "https://avatars.mds.yandex.net/get-sprav-products/2994796/2a000001915361d02d8e35c5d7bee59dc8d2/orig"},
                {id: "d_cola", name: "–ö–æ–ª–∞", price: 90, desc: "0.5 –ª.", img: "https://avatars.mds.yandex.net/get-sprav-products/1540730/2a000001915361d0b242fca0468efedaa7b2/orig"},
            ]
        }
    ];

    let cart = {}; 
    const app = document.getElementById("app");

    // –û—Ç—Ä–∏—Å–æ–≤–∫–∞
    menu.forEach(section => {
        let catTitle = document.createElement("div");
        catTitle.className = "category-title";
        catTitle.innerText = section.category;
        app.appendChild(catTitle);

        let container = document.createElement("div");
        container.className = "container";

        section.items.forEach(item => {
            let card = document.createElement("div");
            card.className = "card";
            card.innerHTML = `
                <img src="${item.img}">
                <h3>${item.name}</h3>
                <div class="desc">${item.desc}</div>
                <div class="price">${item.price} ‚ÇΩ</div>
                
                <button class="add-btn" id="btn_${item.id}" onclick="add('${item.id}')">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                
                <div class="btn-control" id="control_${item.id}">
                    <button onclick="minus('${item.id}')">-</button>
                    <span id="count_${item.id}">0</span>
                    <button onclick="add('${item.id}')">+</button>
                </div>
            `;
            container.appendChild(card);
        });
        app.appendChild(container);
    });

    // –õ–æ–≥–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
    function add(id) {
        if (!cart[id]) cart[id] = 0;
        cart[id]++;
        updateUI(id);
    }

    function minus(id) {
        if (cart[id] > 0) cart[id]--;
        if (cart[id] === 0) delete cart[id];
        updateUI(id);
    }

    function updateUI(id) {
        const btn = document.getElementById(`btn_${id}`);
        const control = document.getElementById(`control_${id}`);
        const countSpan = document.getElementById(`count_${id}`);

        if (cart[id]) {
            btn.style.display = "none";
            control.style.display = "flex";
            countSpan.innerText = cart[id];
        } else {
            btn.style.display = "block";
            control.style.display = "none";
        }
        updateMainButton();
    }

    function updateMainButton() {
        let total = 0;
        for (let section of menu) {
            for (let item of section.items) {
                if (cart[item.id]) total += item.price * cart[item.id];
            }
        }

        const mainBtn = document.getElementById("main-btn");
        if (total > 0) {
            mainBtn.style.display = "block";
            mainBtn.innerText = `–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ –Ω–∞ ${total} ‚ÇΩ`;
        } else {
            mainBtn.style.display = "none";
        }
    }

    function sendOrder() {
        let totalStr = document.getElementById("main-btn").innerText;
        let data = { cart: cart, total: totalStr };
        tg.sendData(JSON.stringify(data)); 
    }
</script>

</body>
</html>